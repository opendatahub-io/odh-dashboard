"use strict";(self.webpackChunkmodel_registry_ui=self.webpackChunkmodel_registry_ui||[]).push([[921],{20919:(e,t,a)=>{var n=a(48348),l=a.n(n),r=a(5338),o=a(54557),i=a(80445),m=a(19398),c=a(75377),s=a(30838),d=a(96529),u=(a(68788),a(85130)),E=a(68970),g=a(47317),p=a(6938),b=a(15987),h=a(11458),v=a(9003),f=a(93309),y=a(66241),S=a(1604),M=a.n(S);const k=({username:e,onLogout:t})=>{const{namespaces:a,preferredNamespace:n,updatePreferredNamespace:r}=(0,g.I)(),{config:o}=(0,p.J)(),{isMUITheme:i}=(0,y.w)(),[m,c]=l().useState(!1),s=Boolean(o.mandatoryNamespace),d=a.map(e=>({content:e.name,value:e.name,selected:e.name===n?.name})),E=[l().createElement(u.DropdownItem,{key:"logout",onClick:()=>{c(!1),t()}},"Log out")];return l().createElement(u.Masthead,null,l().createElement(u.MastheadMain,null,l().createElement(u.MastheadToggle,null,l().createElement(u.PageToggleButton,{id:"page-nav-toggle",variant:"plain","aria-label":"Dashboard navigation"},l().createElement(f.U4,null))),i?null:l().createElement(u.MastheadBrand,null,l().createElement(u.MastheadLogo,{component:"a"},l().createElement(u.Brand,{src:M(),alt:"Kubeflow",heights:{default:"36px"}})))),l().createElement(u.MastheadContent,null,l().createElement(u.Toolbar,null,l().createElement(u.ToolbarContent,null,l().createElement(u.ToolbarGroup,{variant:"action-group-plain",align:{default:"alignStart"}},l().createElement(u.ToolbarItem,{className:"kubeflow-u-namespace-select"},l().createElement(v.X,{initialOptions:d,isDisabled:s,onSelect:(e,t)=>{s||r({name:String(t)})}}))),e&&l().createElement(u.ToolbarGroup,{variant:"action-group-plain",align:{default:"alignEnd"}},l().createElement(u.ToolbarItem,null,l().createElement(u.Dropdown,{popperProps:{position:"right"},onOpenChange:e=>c(e),toggle:t=>l().createElement(u.MenuToggle,{"aria-label":"User menu",id:"user-menu-toggle","data-testid":"user-menu-toggle-button",ref:t,onClick:()=>c(!m),isExpanded:m},e),isOpen:m},l().createElement(u.DropdownList,null,E))))))))};var I=a(21888),A=a(35585);const w=({notification:e})=>{const t=(0,I.h)(),[a,n]=l().useState(!1),[r,o]=l().useState(!1);return l().useEffect(()=>{const e=setTimeout(()=>{n(!0)},8e3);return()=>{clearTimeout(e)}},[n]),l().useEffect(()=>{e.hidden||!a||r||t.remove(e.id)},[r,e,a,t]),e.hidden?null:l().createElement(u.Alert,{variant:(0,A.CJ)(e.status,u.AlertVariant)??void 0,title:e.title,actionClose:l().createElement(u.AlertActionCloseButton,{onClose:()=>t.remove(e.id)}),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},e.message)},C=()=>{const{notifications:e}=(0,n.useContext)(c.V);return l().createElement(u.AlertGroup,{isToast:!0,isLiveRegion:!0},e.map(e=>l().createElement(w,{notification:e,key:e.id})))};var N=a(97640);const P=({item:e})=>n.createElement(u.NavItem,{key:e.label,"data-id":e.label,itemId:e.label},n.createElement(o.NavLink,{to:e.path},e.label)),L=({item:e})=>{const{children:t}=e,[a,l]=n.useState(!1);return n.createElement(u.NavExpandable,{"data-id":e.label,key:e.label,id:e.label,title:e.label,groupId:e.label,isExpanded:a,onExpand:(e,t)=>l(t),"aria-label":e.label},t.map(e=>n.createElement(P,{key:e.label,"data-id":e.label,item:e})))},R=({navData:e})=>{const{isMUITheme:t}=(0,y.w)();return n.createElement(u.PageSidebar,null,n.createElement(u.PageSidebarBody,null,n.createElement(u.Nav,{id:"nav-primary-simple"},n.createElement(u.NavList,{id:"nav-list-simple"},t?n.createElement(u.NavItem,null,n.createElement(u.Brand,{className:"kubeflow_brand",src:N.A,alt:"Kubeflow Logo"})):null,e.map(e=>"children"in e?n.createElement(L,{key:e.label,item:e}):n.createElement(P,{key:e.label,item:e}))))))};var T=a(31463),B=a(76859),_=a(425),x=a(93180),D=a(36842);const O=()=>{const{clusterAdmin:e}=(0,D.A)();return e?[{label:"Settings",children:[{label:"Model Registry",path:"/model-registry-settings"}]}]:[]},J=()=>{const{clusterAdmin:e}=(0,D.A)(),{config:t}=(0,p.J)(),{deploymentMode:a}=t,l=a===b.d.Standalone,r=a===b.d.Federated;return n.createElement(o.Routes,null,n.createElement(o.Route,{path:"/",element:n.createElement(o.Navigate,{to:"/model-registry",replace:!0})}),n.createElement(o.Route,{path:"/model-registry/*",element:n.createElement(_.A,null)}),(l||r)&&n.createElement(o.Route,{path:"/model-catalog/*",element:n.createElement(x.A,null)}),n.createElement(o.Route,{path:"*",element:n.createElement(T.A,null)}),e&&n.createElement(o.Route,{path:"/model-registry-settings/*",element:n.createElement(B.A,null)}))},F=()=>{const e=(()=>{const{config:e}=(0,p.J)(),{deploymentMode:t}=e,a=t===b.d.Standalone,n=t===b.d.Federated,l=[{label:"Model Registry",path:"/model-registry"}];return(a||n)&&l.push({label:"Model Catalog",path:"/model-catalog"}),[...l,...O()]})();return n.createElement(R,{navData:e})};var U=a(12895),G=a(68591);const V=()=>{const{configSettings:e,userSettings:t,loaded:a,loadError:l}=(0,E.t)(),{namespacesLoaded:r,namespacesLoadError:o,initializationError:i}=(0,g.I)(),m=t?.userId,{config:c}=(0,p.J)(),{deploymentMode:s}=c,d=s===b.d.Standalone,v=n.useMemo(()=>e&&t?{config:e,user:t}:null,[e,t]),f=l||o||i,y=n.createElement(u.PageSidebar,{isSidebarOpen:!1});if(f)return n.createElement(u.Page,{sidebar:y},n.createElement(u.PageSection,null,n.createElement(u.Stack,{hasGutter:!0},n.createElement(u.StackItem,null,n.createElement(u.Alert,{variant:"danger",isInline:!0,title:"General loading error"},n.createElement("p",null,l?.message||o?.message||i?.message||"Unknown error occurred during startup"),n.createElement("p",null,"Logging out and logging back in may solve the issue"))),n.createElement(u.StackItem,null,n.createElement(u.Button,{variant:"secondary",onClick:()=>(0,h.r)().then(()=>window.location.reload())},"Logout")))));return!(a&&t&&e&&v&&r)?n.createElement(u.Bullseye,null,n.createElement(u.Spinner,null)):n.createElement(U.B.Provider,{value:v},n.createElement(u.Page,{mainContainerId:"primary-app-container",masthead:d?n.createElement(k,{username:m,onLogout:()=>{(0,h.r)().then(()=>window.location.reload())}}):"",isManagedSidebar:d,sidebar:d?n.createElement(F,null):y},n.createElement(G.E,null,n.createElement(J,null)),n.createElement(C,null)))};var K=a(32002),Q=a(2358);const X=r.createRoot(document.getElementById("root")),z={deploymentMode:d.u4,URL_PREFIX:d.fO,BFF_API_VERSION:d.xg,mandatoryNamespace:d.E7};X.render(l().createElement(l().StrictMode,null,l().createElement(o.BrowserRouter,null,l().createElement(i.$,{config:z},l().createElement(s.N,{theme:d.Qt},l().createElement(m.u,null,l().createElement(c.g,null,l().createElement(({children:e})=>{const t=n.useMemo(()=>new Q.PluginStore({}),[]);return n.createElement(K.PluginStoreProvider,{store:t},e)},null,l().createElement(V,null)))))))))},96529:(e,t,a)=>{a.d(t,{E7:()=>m,Qt:()=>o,fO:()=>c,u4:()=>i,xg:()=>s});var n=a(15987),l=a(35585),r=a(8561);const o=(0,l.CJ)("mui-theme",r.S)||r.S.Patternfly,i=(0,l.CJ)("federated",n.d)||n.d.Federated,m=(parseInt("9999999"),{}.MANDATORY_NAMESPACE||void 0),c="/model-registry",s="v1"}}]);
//# sourceMappingURL=921.bundle.js.map