{
  "test_id": "bff/testdata/llamastack/test.py::record",
  "request": {
    "method": "POST",
    "url": "https://generativelanguage.googleapis.com/v1beta/openai/v1/chat/completions",
    "headers": {},
    "body": {
      "model": "models/gemini-2.5-flash",
      "messages": [
        {
          "role": "user",
          "content": "First message in conversation"
        },
        {
          "role": "assistant",
          "content": "To give you the best \"first message,\" I need a little more context!\n\nHowever, here's a general guide and some examples based on common scenarios.\n\n**The Golden Rules of a Good First Message:**\n\n1.  **Be Clear:** State your purpose or reason for messaging.\n2.  **Be Concise:** Don't write a novel. Get to the point.\n3.  **Personalize (if possible):** Reference something specific about them or your shared connection.\n4.  **Ask a Question (or create an opening for a response):** Give them an easy way to reply.\n5.  **Be Positive & Respectful:** Set a good tone.\n\n---\n\n**Common Scenarios & Examples:**\n\n**1. Dating App:**\n*   **Goal:** Spark interest, find common ground, encourage a response.\n*   **Good:** \"Hey! Your profile mentioned you love [hobby/interest] \u2013 any favorite spots for that around here?\"\n*   **Good:** \"Hi [Name], loved your photo with the [pet/interesting background]. What's the story there?\"\n*   **Good:** \"Your bio said you're into [niche interest] \u2013 any recent recommendations or thoughts on [related topic]?\"\n*   **Avoid:** \"Hey,\" \"Hi,\" \"What's up?\" (too generic), overly sexual or aggressive comments.\n\n**2. Professional Networking (LinkedIn, after an event):**\n*   **Goal:** Establish connection, follow up, learn, offer value.\n*   **Good:** \"Hi [Name], it was great meeting you at [Event Name] today/yesterday. I really enjoyed our discussion about [specific topic]. I'd love to connect further.\"\n*   **Good:** \"Hello [Name], I've been following your work on [Specific Project/Topic] for a while and find your insights on [specific point] really valuable. I'm [Your Title/Interest] and was hoping to learn more about [related area].\"\n*   **Good:** \"Hi [Name], I saw your post about [topic] and found it really thought-provoking. I had a quick question about [specific aspect of the post] if you have a moment.\"\n*   **Avoid:** Asking for a job immediately, vague requests, overly informal language.\n\n**3. Texting a Friend/Acquaintance:**\n*   **Goal:** Check-in, share something, make a plan.\n*   **Good:** \"Hey! How's your week going?\"\n*   **Good:** \"Just saw [movie/article/meme] and it totally reminded me of you! \ud83d\ude02\"\n*   **Good:** \"Hope you had a good weekend! I was thinking of [doing X] on [Day] \u2013 interested?\"\n*   **Avoid:** Double-texting immediately if they don't respond, overly dramatic messages.\n\n**4. Customer Service/Support (Email/Chat):**\n*   **Goal:** Clearly state the problem, get help.\n*   **Good:** \"Hello, I'm experiencing an issue with [Product/Service Name]. My order number is [if applicable]. The problem is that [brief, clear description of the issue]. Could you please assist me with this?\"\n*   **Good:** \"Hi, I have a question about [specific feature/policy]. Could you explain [what you need to know]?\"\n*   **Avoid:** Emotionally charged language, blaming, assuming intent.\n\n**5. Cold Outreach / General Interest (Social Media DM):**\n*   **Goal:** Introduce yourself, state purpose, respect their time.\n*   **Good:** \"Hi [Name], I'm [Your Name] and I really enjoy your [content/art/work]. I'm reaching out because I had a quick question about [something specific you admire or need to know], if you have a moment.\"\n*   **Good:** \"Hello [Name], I'm [Your Name] from [Your Company/Context]. I'm reaching out because I noticed [specific commonality/reason for interest]. I believe [brief value proposition]. Would you be open to a brief chat sometime next week?\"\n*   **Avoid:** Long unsolicited pitches, demanding their time, being vague about your intentions.\n\n---\n\n**To give you a perfect first message, tell me:**\n\n*   **Who are you messaging?** (e.g., a potential date, a work colleague, a new friend, customer support, a celebrity/influencer)\n*   **What is the platform?** (e.g., dating app, LinkedIn, text, email, Instagram DM)\n*   **What is your goal for the conversation?** (e.g., get a date, network, ask a question, complain, compliment, make plans)\n*   **Is there any specific context or shared history?** (e.g., you met them at an event, you saw their post, you have a mutual friend)"
        },
        {
          "role": "user",
          "content": "Continue our conversation"
        }
      ],
      "stream": true,
      "stream_options": {
        "include_usage": true
      }
    },
    "endpoint": "/v1/chat/completions",
    "model": "models/gemini-2.5-flash"
  },
  "response": {
    "body": [
      {
        "__type__": "openai.types.chat.chat_completion_chunk.ChatCompletionChunk",
        "__data__": {
          "id": "rec-e9cf95c2d641",
          "choices": [
            {
              "delta": {
                "content": "Okay",
                "function_call": null,
                "refusal": null,
                "role": "assistant",
                "tool_calls": null
              },
              "finish_reason": null,
              "index": 0,
              "logprobs": null
            }
          ],
          "created": 0,
          "model": "models/gemini-2.5-flash",
          "object": "chat.completion.chunk",
          "service_tier": null,
          "system_fingerprint": null,
          "usage": {
            "completion_tokens": 1,
            "prompt_tokens": 1074,
            "total_tokens": 1187,
            "completion_tokens_details": null,
            "prompt_tokens_details": null
          }
        }
      },
      {
        "__type__": "openai.types.chat.chat_completion_chunk.ChatCompletionChunk",
        "__data__": {
          "id": "rec-e9cf95c2d641",
          "choices": [
            {
              "delta": {
                "content": ", I'd love to continue!\n\nTo help me give you the best advice or examples, please tell me the specifics I asked for previously:\n\n*   **Who are you messaging?** (e.g., a potential date, a",
                "function_call": null,
                "refusal": null,
                "role": "assistant",
                "tool_calls": null
              },
              "finish_reason": null,
              "index": 0,
              "logprobs": null
            }
          ],
          "created": 0,
          "model": "models/gemini-2.5-flash",
          "object": "chat.completion.chunk",
          "service_tier": null,
          "system_fingerprint": null,
          "usage": {
            "completion_tokens": 51,
            "prompt_tokens": 1074,
            "total_tokens": 1237,
            "completion_tokens_details": null,
            "prompt_tokens_details": null
          }
        }
      },
      {
        "__type__": "openai.types.chat.chat_completion_chunk.ChatCompletionChunk",
        "__data__": {
          "id": "rec-e9cf95c2d641",
          "choices": [
            {
              "delta": {
                "content": " work colleague, a new friend, customer support, a celebrity/influencer)\n*   **What is the platform?** (e.g., dating app, LinkedIn, text, email, Instagram DM)\n*   **What",
                "function_call": null,
                "refusal": null,
                "role": "assistant",
                "tool_calls": null
              },
              "finish_reason": null,
              "index": 0,
              "logprobs": null
            }
          ],
          "created": 0,
          "model": "models/gemini-2.5-flash",
          "object": "chat.completion.chunk",
          "service_tier": null,
          "system_fingerprint": null,
          "usage": {
            "completion_tokens": 99,
            "prompt_tokens": 1074,
            "total_tokens": 1285,
            "completion_tokens_details": null,
            "prompt_tokens_details": null
          }
        }
      },
      {
        "__type__": "openai.types.chat.chat_completion_chunk.ChatCompletionChunk",
        "__data__": {
          "id": "rec-e9cf95c2d641",
          "choices": [
            {
              "delta": {
                "content": " is your goal for the conversation?** (e.g., get a date, network, ask a question, complain, compliment, make plans)\n*   **Is there any specific context or shared history?** (e.g",
                "function_call": null,
                "refusal": null,
                "role": "assistant",
                "tool_calls": null
              },
              "finish_reason": null,
              "index": 0,
              "logprobs": null
            }
          ],
          "created": 0,
          "model": "models/gemini-2.5-flash",
          "object": "chat.completion.chunk",
          "service_tier": null,
          "system_fingerprint": null,
          "usage": {
            "completion_tokens": 147,
            "prompt_tokens": 1074,
            "total_tokens": 1333,
            "completion_tokens_details": null,
            "prompt_tokens_details": null
          }
        }
      },
      {
        "__type__": "openai.types.chat.chat_completion_chunk.ChatCompletionChunk",
        "__data__": {
          "id": "rec-e9cf95c2d641",
          "choices": [
            {
              "delta": {
                "content": "., you met them at an event, you saw their post, you have a mutual friend)\n\nOnce I have that, I can help you craft the perfect first message for *your* specific situation!",
                "function_call": null,
                "refusal": null,
                "role": "assistant",
                "tool_calls": null
              },
              "finish_reason": "stop",
              "index": 0,
              "logprobs": null
            }
          ],
          "created": 0,
          "model": "models/gemini-2.5-flash",
          "object": "chat.completion.chunk",
          "service_tier": null,
          "system_fingerprint": null,
          "usage": {
            "completion_tokens": 188,
            "prompt_tokens": 1074,
            "total_tokens": 1374,
            "completion_tokens_details": null,
            "prompt_tokens_details": null
          }
        }
      }
    ],
    "is_streaming": true
  },
  "id_normalization_mapping": {}
}
